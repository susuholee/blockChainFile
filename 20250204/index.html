<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div>
        <div id="counter">0</div>
        <button id="increment_btn">증가</button>
        <button id="decrement_btn">감소</button>
    </div>

    <div>
        <div id="counter2">0</div>
        <button id="increment_btn2">증가</button>
        <button id="decrement_btn2">감소</button>
    </div>
</body>
<script>
    const createCounter = () => {
        let index = 0; // 함수의 내용이 어휘적 위치에 가록이 되어 잇기 때문에
        // 함수의 주소에 기록되어있는 index라는 값은 동일한 값

        
        // 기능들을 새롭게 만들 필요가 없다
        const increment = () => {
            index++;
 
        }
        // 기능들을 새롭게 만들 필요가 없다
        const decrement = () => {
            index--;
        
        }
        // 화면에 그리는 작업 
        const render = (el) => {
            el.innerHTML = index;
        } 


        // {increment, decrement}
        // 객체의 키를 할당하는 값을 참조하는 변수명과 같게 할것이다.
        // 축약
        // increment 키의 값은 increment 변수에서 참조하는 값을 할당할 수 있다.

        return { increment, decrement, render} // 1급 객체이기 때문에 배열이나 객체로 내보낼 수 있다.

    }

        // const { increment, decrement }
        // obj.increment
        // obj.decrement

        // 재사용성이 높다
        const { increment, decrement, render } = createCounter();
        const { increment: increment2, decrement: decrement2,  render: render2 } = createCounter();

        increment_btn.onclick = () => {
            increment();
            render(counter);
        }

        decrement_btn.onclick = () => {
            decrement();
            render(counter);
        }
        increment_btn2.onclick = () => {
            increment();
            render(counter2);
        }

        decrement_btn2.onclick = () => {
            decrement();
            render(counter2);
        }
</script>
</html>